const cacheName="aymenn.xyz-v1",assets=["./","./index.html","./assets/css/style.min.css","./assets/js/main.min.js","./favicon.ico"];self.addEventListener("activate",e=>{e.waitUntil(caches.keys().then(e=>Promise.all(e.map(e=>{if(e!==cacheName)return caches.delete(e)})))),e.waitUntil(self.clients.claim())}),self.addEventListener("install",e=>{e.waitUntil(caches.open(cacheName).then(e=>e.addAll(assets)).then(()=>self.skipWaiting()))}),self.addEventListener("fetch",e=>{(e.request.url.startsWith("http")||e.request.url.startsWith("https"))&&e.respondWith(caches.match(e.request).then(t=>t||fetch(e.request).then(t=>caches.open(cacheName).then(s=>(s.put(e.request.url,t.clone()),t))).catch(()=>caches.match(e.request))))});